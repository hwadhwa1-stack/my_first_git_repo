<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ShopX — One‑File E‑Commerce</title>
  <meta name="description" content="A beautiful single-file e‑commerce site with catalog, cart, wishlist, coupons, and mock checkout.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0d10;--panel:#111418;--panel-2:#141821;--text:#e7ebf3;--muted:#aeb6c8;--brand:#6c8bff;--brand-2:#8a7bff;--ok:#42d392;--danger:#ff6b6b;--warning:#ffb020;--chip:#23283a;--chip-2:#1a1f2d;--ring:rgba(108,139,255,.5);--shadow:0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.02)
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:linear-gradient(180deg,var(--bg),#0d1117 50%, #0b0d10);color:var(--text)}
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:24px}
    header{position:sticky;top:0;z-index:30;background:rgba(11,13,16,.7);backdrop-filter:blur(10px);border-bottom:1px solid #1a2230}
    .nav{display:flex;gap:16px;align-items:center;justify-content:space-between;padding:14px 24px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800;letter-spacing:.3px}
    .badge{font-size:11px;padding:4px 8px;border-radius:999px;background:linear-gradient(135deg,var(--brand),var(--brand-2));color:#fff}
    .search{flex:1;max-width:560px;position:relative}
    .search input{width:100%;background:#0e1220;border:1px solid #1b2233;color:var(--text);padding:12px 44px 12px 44px;border-radius:14px;outline:none;transition:.2s}
    .search input:focus{border-color:var(--brand);box-shadow:0 0 0 4px var(--ring)}
    .search svg{position:absolute;left:12px;top:50%;transform:translateY(-50%);opacity:.6}
    .pillbar{display:flex;gap:10px;overflow:auto;padding:0 24px 16px}
    .chip{background:var(--chip);border:1px solid #293249;padding:8px 12px;border-radius:999px;font-size:13px;cursor:pointer;white-space:nowrap}
    .chip.active{background:linear-gradient(180deg,#1a2140,#151a2e);border-color:#42528a;color:#cfe0ff}
    .controls{display:flex;gap:12px;align-items:center}
    select, .btn{background:#0d1220;border:1px solid #26314d;color:var(--text);padding:10px 12px;border-radius:12px}
    .btn{cursor:pointer;transition:.2s;display:inline-flex;gap:8px;align-items:center}
    .btn:hover{border-color:#3a4d7a;box-shadow:0 0 0 3px rgba(66,82,138,.2)}
    .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
    @media(max-width:1000px){.grid{grid-template-columns:repeat(3,1fr)}}
    @media(max-width:720px){.grid{grid-template-columns:repeat(2,1fr)}.controls{flex-wrap:wrap}}
    @media(max-width:480px){.grid{grid-template-columns:1fr}}
    .card{background:linear-gradient(180deg,var(--panel),var(--panel-2));border:1px solid #1a2230;border-radius:18px;overflow:hidden;box-shadow:var(--shadow);display:flex;flex-direction:column}
    .thumb{position:relative;aspect-ratio:4/3;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block;transform:scale(1);transition:transform .35s ease}
    .card:hover .thumb img{transform:scale(1.06)}
    .chip-mini{position:absolute;left:12px;top:12px;background:#0f1424;border:1px solid #273154;color:#cfe0ff;font-size:11px;padding:6px 10px;border-radius:999px}
    .wish{position:absolute;right:12px;top:12px;background:#0f1424;border:1px solid #273154;border-radius:999px;padding:8px;display:grid;place-items:center;cursor:pointer}
    .body{padding:14px 14px 16px;display:flex;flex-direction:column;gap:10px}
    .title{font-weight:700}
    .price{display:flex;gap:8px;align-items:baseline}
    .strike{text-decoration:line-through;color:#7b86a3;font-size:13px}
    .add{margin-top:auto}
    .add .btn{width:100%;justify-content:center}
    .stars{font-size:12px;color:#ffd76a}
    .empty{opacity:.7;text-align:center;padding:24px}

    /* Cart Drawer */
    .drawer{position:fixed;inset:0 0 0 auto;width:min(430px,100%);transform:translateX(105%);transition:transform .3s ease;background:linear-gradient(180deg,#0d1220,#0b0f1a);border-left:1px solid #1a2230;z-index:50;display:flex;flex-direction:column}
    .drawer.open{transform:translateX(0)}
    .drawer-head{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid #1a2230}
    .cart-items{flex:1;overflow:auto;display:flex;flex-direction:column;gap:12px;padding:16px}
    .cart-row{display:grid;grid-template-columns:64px 1fr auto;gap:12px;align-items:center;background:#0f1424;border:1px solid #222b3f;border-radius:14px;padding:8px}
    .qty{display:flex;gap:8px;align-items:center}
    .qty button{width:28px;height:28px;border-radius:8px;border:1px solid #2a3554;background:#11172a;color:var(--text);cursor:pointer}
    .remove{background:none;border:none;color:var(--danger);cursor:pointer}
    .totals{border-top:1px dashed #243152;padding:16px;display:flex;flex-direction:column;gap:8px}
    .checkout{padding:16px;border-top:1px solid #1a2230}
    .input{width:100%;background:#0e1220;border:1px solid #1b2233;color:var(--text);padding:10px 12px;border-radius:12px}
    .inline{display:flex;gap:10px}

    /* Modal */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.5);backdrop-filter:blur(2px);display:none;place-items:center;z-index:60}
    .modal.open{display:grid}
    .sheet{width:min(900px,96vw);display:grid;grid-template-columns:1fr 1fr;background:linear-gradient(180deg,#0f1424,#0c111d);border:1px solid #1a2230;border-radius:18px;overflow:hidden}
    @media(max-width:860px){.sheet{grid-template-columns:1fr}}
    .sheet .left{aspect-ratio:4/3;background:#0b0f1a;display:grid;place-items:center}
    .sheet .left img{width:100%;height:100%;object-fit:cover}
    .sheet .right{padding:18px;display:flex;flex-direction:column;gap:12px}

    .footer{border-top:1px solid #1a2230;margin-top:18px;padding:22px;text-align:center;color:#95a1bd}
    .tag{font-size:12px;padding:4px 8px;border-radius:999px;background:#0e1426;border:1px solid #263257}
  </style>
</head>
<body>
  <header>
    <div class="nav container">
      <div class="brand">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 2l3.5 6h6.5l-5.25 4 2 7-6.75-4.5L5.5 19l2-7L2.25 8H8.5L12 2z" fill="url(#g)"/><defs><linearGradient id="g" x1="0" y1="0" x2="24" y2="24"><stop stop-color="#6c8bff"/><stop offset="1" stop-color="#8a7bff"/></linearGradient></defs></svg>
        <span>ShopX</span>
        <span class="badge">One‑File</span>
      </div>
      <div class="search">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15z" stroke="#9fb0d4" stroke-width="1.5" stroke-linecap="round"/></svg>
        <input id="search" type="text" placeholder="Search products, brands, categories…"/>
      </div>
      <div class="controls">
        <select id="sort">
          <option value="pop">Sort: Popular</option>
          <option value="low">Price: Low → High</option>
          <option value="high">Price: High → Low</option>
          <option value="new">Newest</option>
          <option value="rate">Top Rated</option>
        </select>
        <button class="btn" id="wishlistBtn" title="Wishlist">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.1 20s-7.6-4.3-9.3-8.4C1.4 9.5 2.8 6.2 6.2 6 8 5.9 9.4 7 10 8.2 10.6 7 12 5.9 13.8 6c3.4.2 4.8 3.5 3.4 5.6-1.7 4.1-9.1 8.4-9.1 8.4z" stroke="#cfe0ff" stroke-width="1.3" fill="none"/></svg>
          Wishlist
        </button>
        <button class="btn" id="cartBtn" title="Open cart">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M3 3h2l2.5 12.5a2 2 0 0 0 2 1.5h7a2 2 0 0 0 2-1.5L21 7H6" stroke="#cfe0ff" stroke-width="1.3" stroke-linecap="round"/><circle cx="10" cy="20" r="1.4" fill="#cfe0ff"/><circle cx="17" cy="20" r="1.4" fill="#cfe0ff"/></svg>
          Cart (<span id="cartCount">0</span>)
        </button>
      </div>
    </div>
    <div class="pillbar" id="categories"></div>
  </header>

  <main class="container">
    <div class="grid" id="grid"></div>
    <div class="empty" id="emptyState" style="display:none;">No products match your search or filters.</div>
    <div class="footer">© <span id="year"></span> ShopX · Demo store · <span class="tag">Single‑file template</span> <span class="tag">LocalStorage</span> <span class="tag">Mock checkout</span></div>
  </main>

  <!-- Cart Drawer -->
  <aside class="drawer" id="drawer">
    <div class="drawer-head">
      <strong>Your Cart</strong>
      <button class="btn" id="closeCart">Close</button>
    </div>
    <div class="cart-items" id="cartItems"></div>
    <div class="totals">
      <div style="display:flex;justify-content:space-between"><span>Subtotal</span><span id="tSubtotal">₹0</span></div>
      <div style="display:flex;justify-content:space-between"><span>Discount</span><span id="tDiscount">-₹0</span></div>
      <div style="display:flex;justify-content:space-between"><span>Shipping</span><span id="tShipping">₹0</span></div>
      <div style="display:flex;justify-content:space-between"><span>Tax (10%)</span><span id="tTax">₹0</span></div>
      <div style="display:flex;justify-content:space-between;font-weight:700"><span>Total</span><span id="tTotal">₹0</span></div>
    </div>
    <div class="checkout">
      <div class="inline" style="margin-bottom:10px">
        <input class="input" id="coupon" placeholder="Coupon code (SAVE10, FREESHIP)" />
        <button class="btn" id="applyCoupon">Apply</button>
      </div>
      <details>
        <summary style="cursor:pointer;margin-bottom:10px">Proceed to checkout</summary>
        <form id="checkoutForm">
          <input class="input" placeholder="Full name" required style="margin-bottom:8px"/>
          <input class="input" placeholder="Email" type="email" required style="margin-bottom:8px"/>
          <input class="input" placeholder="Address" required style="margin-bottom:8px"/>
          <div class="inline">
            <input class="input" placeholder="Card number" required/>
            <input class="input" placeholder="MM/YY" required/>
            <input class="input" placeholder="CVC" required/>
          </div>
          <button class="btn" style="width:100%;margin-top:10px">Pay now</button>
        </form>
      </details>
    </div>
  </aside>

  <!-- Product Modal -->
  <div class="modal" id="modal">
    <div class="sheet">
      <div class="left"><img id="mImg" alt=""/></div>
      <div class="right">
        <div class="tag" id="mCategory"></div>
        <h2 id="mTitle" style="margin:8px 0"></h2>
        <div class="stars" id="mStars"></div>
        <p id="mDesc" style="color:#b7c2de"></p>
        <div class="price"><strong id="mPrice"></strong> <span class="strike" id="mCompare"></span></div>
        <div class="inline">
          <button class="btn" id="mAdd">Add to cart</button>
          <button class="btn" id="mWish">♡ Wishlist</button>
          <button class="btn" id="mClose">Close</button>
        </div>
      </div>
    </div>
  </div>

<script>
// ===== Utilities =====
const $ = (s)=>document.querySelector(s);
const $$ = (s)=>document.querySelectorAll(s);
const fmt = (n)=> new Intl.NumberFormat('en-IN',{style:'currency',currency:'INR',maximumFractionDigits:0}).format(n);
const save = (k,v)=> localStorage.setItem(k, JSON.stringify(v));
const load = (k,d)=> { try { return JSON.parse(localStorage.getItem(k)) ?? d } catch { return d } };
const clamp=(n,min,max)=>Math.max(min,Math.min(max,n));

// ===== Data =====
const PRODUCTS = [
  {id:1, title:'Aurora Wireless Headphones', price:3499, compare:4999, rating:4.7, reviews:812, cat:'Audio', img:'https://source.unsplash.com/400x300/?headphones', desc:'Immersive sound with active noise canceling and 40h battery.'},
  {id:2, title:'Lunar Mechanical Keyboard', price:6999, compare:8999, rating:4.8, reviews:650, cat:'Accessories', img:'https://source.unsplash.com/400x300/?keyboard', desc:'RGB backlit switches for pro gamers and typing enthusiasts.'},
  {id:3, title:'Nebula Smartwatch Series 5', price:12999, compare:15999, rating:4.5, reviews:1020, cat:'Wearables', img:'https://source.unsplash.com/400x300/?smartwatch', desc:'Track health, notifications, and workouts with style.'},
  {id:4, title:'Orion 4K Action Camera', price:8499, compare:10999, rating:4.6, reviews:432, cat:'Photography', img:'https://source.unsplash.com/400x300/?camera', desc:'Capture your adventures in stunning 4K UHD.'},
  {id:5, title:'SolarSmart Outdoor Lamp', price:1499, compare:1999, rating:4.7, reviews:85, cat:'Home', img:'https://source.unsplash.com/400x300/?lamp', desc:'Solar-powered LED lamp with motion sensor for your garden.'},
  {id:6, title:'Luna Gaming Chair', price:8999, compare:11999, rating:4.5, reviews:210, cat:'Furniture', img:'https://source.unsplash.com/400x300/?gaming-chair', desc:'Ergonomic chair with lumbar support and RGB lighting.'},
  {id:7, title:'Aurora Bluetooth Speaker', price:2999, compare:3999, rating:4.6, reviews:540, cat:'Audio', img:'https://source.unsplash.com/400x300/?speaker', desc:'Portable, water-resistant speaker with deep bass.'},
  {id:8, title:'Stellar Laptop Stand', price:1499, compare:1999, rating:4.8, reviews:220, cat:'Accessories', img:'https://source.unsplash.com/400x300/?laptop', desc:'Aluminum stand to improve ergonomics and cooling.'},
  {id:9, title:'Galaxy VR Headset', price:15999, compare:19999, rating:4.3, reviews:320, cat:'Wearables', img:'https://source.unsplash.com/400x300/?vr', desc:'Step into immersive virtual worlds with comfort.'},
  {id:10, title:'Orbit Drone Pro', price:24999, compare:29999, rating:4.7, reviews:145, cat:'Photography', img:'https://source.unsplash.com/400x300/?drone', desc:'Capture breathtaking aerial footage easily.'},
];

// ===== Categories =====
const categories = ['All', ...new Set(PRODUCTS.map(p=>p.cat))];
const categoryContainer = $('#categories');
categories.forEach(c=>{
  const btn = document.createElement('div');
  btn.textContent = c; btn.className='chip'+(c==='All'?' active':''); 
  btn.onclick=()=>{filterCategory(c)};
  categoryContainer.appendChild(btn);
});

let currentCategory = 'All';
function filterCategory(cat){
  currentCategory = cat;
  $$('.chip').forEach(ch=>ch.classList.remove('active'));
  [...$$('.chip')].find(ch=>ch.textContent===cat)?.classList.add('active');
  renderGrid();
}

// ===== Grid =====
const grid = $('#grid');
const emptyState = $('#emptyState');

function renderGrid(){
  const search = $('#search').value.toLowerCase();
  const filtered = PRODUCTS.filter(p=>
    (currentCategory==='All'||p.cat===currentCategory) &&
    p.title.toLowerCase().includes(search)
  );
  grid.innerHTML='';
  if(!filtered.length){emptyState.style.display='block'; return} else emptyState.style.display='none';
  filtered.forEach(p=>{
    const div = document.createElement('div'); div.className='card';
    div.innerHTML=`
      <div class="thumb">
        <img src="${p.img}" alt="${p.title}">
        <div class="chip-mini">${p.cat}</div>
        <div class="wish" data-id="${p.id}">♡</div>
      </div>
      <div class="body">
        <div class="title">${p.title}</div>
        <div class="stars">${'★'.repeat(Math.floor(p.rating))}</div>
        <div class="price"><strong>${fmt(p.price)}</strong> <span class="strike">${fmt(p.compare)}</span></div>
        <div class="add"><button class="btn" data-id="${p.id}">Add to cart</button></div>
      </div>`;
    grid.appendChild(div);
  });
}

// ===== Search =====
$('#search').addEventListener('input',()=>renderGrid());

// ===== Cart =====
let CART = load('CART',[]);
const cartBtn = $('#cartBtn'), drawer = $('#drawer'), closeCart = $('#closeCart');
cartBtn.onclick=()=>drawer.classList.add('open'); closeCart.onclick=()=>drawer.classList.remove('open');

function updateCart(){
  save('CART',CART);
  $('#cartCount').textContent=CART.length;
  const container = $('#cartItems');
  container.innerHTML='';
  if(!CART.length){container.innerHTML='<div class="empty">Cart is empty</div>'; return}
  CART.forEach(item=>{
    const p = PRODUCTS.find(pr=>pr.id===item.id);
    const div = document.createElement('div'); div.className='cart-row';
    div.innerHTML=`
      <img src="${p.img}" width="64" height="64">
      <div>
        <div>${p.title}</div>
        <div class="qty">
          <button data-id="${p.id}" data-action="-">-</button>
          <span>${item.qty}</span>
          <button data-id="${p.id}" data-action="+">+</button>
        </div>
      </div>
      <button class="remove" data-id="${p.id}">Remove</button>
    `;
    container.appendChild(div);
  });

  // totals
  let subtotal = CART.reduce((sum,it)=>sum + PRODUCTS.find(p=>p.id===it.id).price*it.qty,0);
  let discount = 0; let shipping=0; let tax = subtotal*0.1;
  $('#tSubtotal').textContent=fmt(subtotal); $('#tDiscount').textContent='-'+fmt(discount); $('#tShipping').textContent=fmt(shipping); $('#tTax').textContent=fmt(tax); $('#tTotal').textContent=fmt(subtotal-discount+shipping+tax);

  // quantity buttons
  $$('button[data-action]').forEach(b=>{
    b.onclick=()=>{
      const id=parseInt(b.dataset.id), act=b.dataset.action;
      const index = CART.findIndex(c=>c.id===id);
      if(index<0) return;
      if(act==='+'){CART[index].qty+=1} else {CART[index].qty-=1; if(CART[index].qty<=0) CART.splice(index,1);}
      updateCart();
    }
  });

  // remove
  $$('button.remove').forEach(b=>b.onclick=()=>{
    const id=parseInt(b.dataset.id);
    CART = CART.filter(c=>c.id!==id); updateCart();
  });
}

function addToCart(id){
  const index = CART.findIndex(c=>c.id===id);
  if(index<0) CART.push({id,qty:1}); else CART[index].qty+=1;
  updateCart();
}

grid.addEventListener('click',e=>{
  const id = parseInt(e.target.dataset.id);
  if(id){ addToCart(id); }
  if(e.target.classList.contains('wish')){ alert('Added to wishlist!'); }
});

// ===== Coupons =====
$('#applyCoupon').onclick=()=>{
  const code = $('#coupon').value.trim().toUpperCase();
  if(code==='SAVE10'){alert('10% discount applied')} else if(code==='FREESHIP'){alert('Free shipping applied')} else {alert('Invalid coupon');}
}

// ===== Checkout =====
$('#checkoutForm').onsubmit=e=>{e.preventDefault(); alert('Payment simulated. Thank you!'); CART=[]; updateCart(); drawer.classList.remove('open');}

// ===== Init =====
document.getElementById('year').textContent=new Date().getFullYear();
renderGrid(); updateCart();
</script>
</body>
</html>
